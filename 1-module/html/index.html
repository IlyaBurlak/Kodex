<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Универсальный калькулятор</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/calculator.css">
    <link rel="stylesheet" href="../css/array.css">
    <link rel="stylesheet" href="../css/image.css">
    <link rel="stylesheet" href="../css/text.css">
</head>
<body>
<div id="toast-container" style="position:fixed;top:20px;right:20px;z-index:1000"></div>

<div class="app-container">
    <div class="tabs">
        <div class="tab active" data-tab="basic">Калькулятор</div>
        <div class="tab" data-tab="array">Массивы</div>
        <div class="tab" data-tab="image">Изображения</div>
        <div class="tab" data-tab="text">Текст</div>
    </div>

    <section class="tab-content active" id="basic">
        <div class="calculator">
            <div class="display">
                <input type="text" id="result" readonly value="0">
            </div>
            <div class="buttons">
                <button class="clear" onclick="clearDisplay()">C</button>
                <button onclick="appendToDisplay('(')">(</button>
                <button onclick="appendToDisplay(')')">)</button>
                <button class="operator" onclick="appendToDisplay('/')">/</button>

                <button onclick="appendToDisplay('7')">7</button>
                <button onclick="appendToDisplay('8')">8</button>
                <button onclick="appendToDisplay('9')">9</button>
                <button class="operator" onclick="appendToDisplay('*')">×</button>

                <button onclick="appendToDisplay('4')">4</button>
                <button onclick="appendToDisplay('5')">5</button>
                <button onclick="appendToDisplay('6')">6</button>
                <button class="operator" onclick="appendToDisplay('-')">-</button>

                <button onclick="appendToDisplay('1')">1</button>
                <button onclick="appendToDisplay('2')">2</button>
                <button onclick="appendToDisplay('3')">3</button>
                <button class="operator" onclick="appendToDisplay('+')">+</button>

                <button onclick="appendToDisplay('0')">0</button>
                <button onclick="appendToDisplay('.')">.</button>
                <button class="equals" onclick="calculate()">=</button>
            </div>
        </div>
    </section>

    <section class="tab-content" id="array">
        <div class="input-group">
            <label>Количество элементов массива (2-10):</label>
            <input type="number" id="array-count" min="2" max="10" value="2">
            <button class="generate-btn" onclick="generateArrayInputs()">Сгенерировать поля</button>
        </div>

        <div class="input-group">
            <label>Массив 1:</label>
            <div class="array-inputs" id="array1-inputs">
                <input type="number" class="array-input" placeholder="Элемент 1">
                <input type="number" class="array-input" placeholder="Элемент 2">
            </div>
        </div>

        <div class="input-group">
            <label>Массив 2:</label>
            <div class="array-inputs" id="array2-inputs">
                <input type="number" class="array-input" placeholder="Элемент 1">
                <input type="number" class="array-input" placeholder="Элемент 2">
            </div>
        </div>

        <div class="input-group">
            <label for="array-operation">Операция:</label>
            <select id="array-operation">
                <option value="add">Сложение массивов</option>
                <option value="average">Среднее арифметическое</option>
            </select>
        </div>

        <button class="calculate-btn" onclick="calculateArray()">Вычислить</button>

        <div class="result-container" id="array-result" style="display: none;">
            <div class="result-title">Результат:</div>
            <div id="array-result-content"></div>
        </div>
    </section>

    <section class="tab-content" id="image">
        <div class="input-group">
            <label for="image1">Изображение 1:</label>
            <input type="file" id="image1" accept="image/*">
        </div>

        <div class="input-group">
            <label for="image2">Изображение 2:</label>
            <input type="file" id="image2" accept="image/*">
        </div>

        <div class="image-preview">
            <div class="image-container">
                <div>Изображение 1</div>
                <img id="preview1" src="" alt="Preview 1" style="display: none;">
            </div>
            <div class="image-container">
                <div>Изображение 2</div>
                <img id="preview2" src="" alt="Preview 2" style="display: none;">
            </div>
        </div>

        <div class="input-group">
            <label for="image-operation">Операция:</label>
            <select id="image-operation" onchange="toggleShapeOptions()">
                <option value="merge">Объединить изображения</option>
                <option value="crop">Обрезать изображение</option>
            </select>
        </div>

        <div class="shape-options" id="shape-options" style="display: none;">
            <label for="shape">Форма для обрезки:</label>
            <select id="shape" onchange="updateShapePreview()">
                <option value="circle">Круг</option>
                <option value="square">Квадрат</option>
                <option value="triangle">Треугольник</option>
            </select>

            <div class="shape-preview" id="shape-preview"></div>
        </div>

        <button class="process-btn" onclick="processImage()">Обработать</button>

        <div class="result-container" id="image-result" style="display: none;">
            <div class="result-title">Результат:</div>
            <img id="result-image" src="" alt="Result" style="max-width: 100%; display: none;">
        </div>
    </section>

    <section class="tab-content" id="text">
        <div class="input-group">
            <label for="text-input">Исходный текст:</label>
            <textarea id="text-input" rows="5"></textarea>
        </div>

        <div class="input-group">
            <label for="text-find">Символ для замены:</label>
            <input type="text" id="text-find" maxlength="1">
        </div>

        <div class="input-group">
            <label for="text-replace">Заменить на:</label>
            <input type="text" id="text-replace" maxlength="1">
        </div>

        <button class="replace-btn" onclick="replaceText()">Заменить</button>

        <div class="result-container" id="text-result" style="display: none;">
            <div class="result-title">Результат:</div>
            <div id="text-result-content"></div>
        </div>
    </section>
</div>

<script src="../js/main.js"></script>
<script src="../js/calculator.js"></script>
<script src="../js/array.js"></script>
<script src="../js/image.js"></script>
<script src="../js/text.js"></script>
</body>
</html>
